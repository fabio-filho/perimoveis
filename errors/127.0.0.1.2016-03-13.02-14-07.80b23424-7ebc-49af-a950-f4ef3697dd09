(dp1
S'output'
p2
S"<type 'exceptions.KeyError'> '.jpg__250_150'"
p3
sS'layer'
p4
S'/home/filhofilha/Documents/Deployment/Web2Py/web2py/applications/perimoveis/controllers/manager.py'
p5
sS'code'
p6
S'# -*- coding: utf-8 -*-\n\n\n@auth.requires_login()\ndef index():\n\n    return dict()\n\n\n\n@auth.requires_login()\ndef home_slide_resources():\n\n    return dict(mRows=db(db.tbHomePageSlideResources.id>0).select())\n\n\n@auth.requires_login()\ndef add_home_slide_resource():\n\n    mForm = SQLFORM(db.tbHomePageSlideResources, submit_button=T(\'Submit\'))\n\n    Validator.form_process(mForm, URL("manager", "home_slide_resources"), mOnAccepted=add_home_slide_resource_accepted)\n\n    return dict(mForm=mForm)\n\n@auth.requires_login()\ndef add_home_slide_resource_accepted(mForm):\n    #Adding thumbnail.\n    from lib_image import MyImage\n    mRow = db.tbHomePageSlideResources(mForm.vars.id)\n    db(db.tbHomePageSlideResources.id==mForm.vars.id).update(mThumbnail=MyImage.tranform(mRow.mTempImage, MyImage.THUMBNAIL_DIMENSION))\n    db(db.tbHomePageSlideResources.id==mForm.vars.id).update(mImage=MyImage.tranform(mRow.mTempImage, MyImage.IMAGE_GOOD_DIMENSION))\n\n    print \'temp image\', mRow.mTempImage\n    MyFile(request.folder + \'uploads/\'+str(mRow.mTempImage)).remove()\n    pass\n\n\ndef download():\n    return response.download(request, db)\n\ndef remove_image():\n\n    Validator.valide_args(1)\n\n    mFile = db.tbHomePageSlideResources(request.args[0])\n\n    MyFile(request.folder + \'uploads/\'+mFile.mThumbnail).remove()\n    MyFile(request.folder + \'uploads/\'+mFile.mImage).remove()\n\n    db(db.tbHomePageSlideResources.id==mFile.id).delete()\n\n    MessageBox(T(\'File\') + \' <b>\'+mFile.mLabel+\'</b> \' + T(\'removed!\')).showSuccess()\n    redirect(URL(\'manager\', \'home_slide_resources\'))\n    pass\n\nresponse._vars=response._caller(add_home_slide_resource)\n'
p7
sS'snapshot'
p8
(dp9
sS'traceback'
p10
S'Traceback (most recent call last):\n  File "/home/filhofilha/Documents/Deployment/Web2Py/web2py/gluon/restricted.py", line 227, in restricted\n    exec ccode in environment\n  File "/home/filhofilha/Documents/Deployment/Web2Py/web2py/applications/perimoveis/controllers/manager.py", line 57, in <module>\n  File "/home/filhofilha/Documents/Deployment/Web2Py/web2py/gluon/globals.py", line 412, in <lambda>\n    self._caller = lambda f: f()\n  File "/home/filhofilha/Documents/Deployment/Web2Py/web2py/gluon/tools.py", line 4236, in f\n    return action(*a, **b)\n  File "/home/filhofilha/Documents/Deployment/Web2Py/web2py/applications/perimoveis/controllers/manager.py", line 22, in add_home_slide_resource\n    Validator.form_process(mForm, URL("manager", "home_slide_resources"), mOnAccepted=add_home_slide_resource_accepted)\n  File "/home/filhofilha/Documents/Deployment/Web2Py/web2py/applications/perimoveis/models/lib.py", line 294, in form_process\n    mOnAccepted(mForm)\n  File "/home/filhofilha/Documents/Deployment/Web2Py/web2py/gluon/tools.py", line 4236, in f\n    return action(*a, **b)\n  File "/home/filhofilha/Documents/Deployment/Web2Py/web2py/applications/perimoveis/controllers/manager.py", line 31, in add_home_slide_resource_accepted\n    db(db.tbHomePageSlideResources.id==mForm.vars.id).update(mThumbnail=MyImage.tranform(mRow.mTempImage, MyImage.THUMBNAIL_DIMENSION))\n  File "applications/perimoveis/modules/lib_image.py", line 53, in tranform\n    img.save(request.folder + \'uploads/\' + thumb)\n  File "/usr/lib/python2.7/dist-packages/PIL/Image.py", line 1667, in save\n    raise KeyError(ext)  # unknown extension\nKeyError: \'.jpg__250_150\'\n'
p11
s.